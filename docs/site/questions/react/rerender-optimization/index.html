<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ –≤ React - My Docs</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "\u041e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u0440\u0435\u0440\u0435\u043d\u0434\u0435\u0440\u043e\u0432 \u0432 React";
        var mkdocs_page_input_path = "questions/react/rerender-optimization.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> My Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">üìö –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—é: JavaScript, React –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Questions</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" >Architecture</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/ddd/">Domain-Driven Design (DDD) –≤–æ Frontend</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/ddd_small/">Domain-Driven Design (DDD) –≤–æ Frontend (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/microfrontends/">–ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã (Microfrontends)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/microfrontends_small/">Microfrontends - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/offline-first/">Offline-first –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/offline-first_small/">Offline-First –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/resilient-frontend/">–£—Å—Ç–æ–π—á–∏–≤–∞—è frontend –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/resilient-frontend_small/">–£—Å—Ç–æ–π—á–∏–≤–∞—è Frontend –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/state-management/">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/state-management_small/">State Management Architecture - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/websockets-realtime/">WebSockets –∏ real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/websockets-realtime_small/">WebSockets –∏ Real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è (small)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Javascript</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/async-programming/">Promises, Async/Await –∏ Generators</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/async-programming_small/">Async Programming - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/currying/">Currying –≤ JavaScript</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/currying_small/">Currying - –®–ø–∞—Ä–≥–∞–ª–∫–∞ (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/event-loop/">Event Loop, Microtasks –∏ Macrotasks</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/event-loop_small/">Event Loop - –®–ø–∞—Ä–≥–∞–ª–∫–∞ (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/execution-model/">–ú–æ–¥–µ–ª—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è JavaScript</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/execution-model_small/">JavaScript Execution Model - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/garbage-collection/">Garbage Collection –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/garbage-collection_small/">Garbage Collection - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/scope-hoisting/">Let, Const, Var: Scope –∏ Hoisting</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/scope-hoisting_small/">Let, Const, Var - –®–ø–∞—Ä–≥–∞–ª–∫–∞ (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/typing-comparison/">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ JS –∏ Java</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/typing-comparison_small/">JS vs Java Typing + TypeScript - Senior Cheat Sheet (small)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Performance</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../performance/optimization/">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ frontend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../performance/optimization_small/">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Frontend (small)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >React</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../concurrent-rendering/">–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ React 18</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../concurrent-rendering_small/">React 18 Concurrent Rendering - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../context-api/">Context API vs Redux</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../context-api_small/">Context API vs Redux - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../hoc/">Higher-Order Components (HOC)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../hoc_small/">Higher-Order Components - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../reconciliation/">Reconciliation –∏ Virtual DOM</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../reconciliation_small/">Reconciliation &amp; Virtual DOM - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ –≤ React</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#_1">üìã –í–æ–ø—Ä–æ—Å</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_2">üí° –û—Ç–≤–µ—Ç</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#react_1">–û—Å–Ω–æ–≤—ã —Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≤ React</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#reactmemo-">React.memo - –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#usememo-">useMemo - –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#usecallback-">useCallback - –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#react-devtools-profiler">–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å React DevTools Profiler</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_12">–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–π</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_15">–°–µ–ª–µ–∫—Ç–æ—Ä—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#usesyncexternalstore">useSyncExternalStore</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_17">–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_20">–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#senior-">Senior-—Å–æ–≤–µ—Ç—ã</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_23">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../rerender-optimization_small/">React Rerender Optimization - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../ssr-rsc/">SSR/SSG –∏ React Server Components</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../ssr-rsc_small/">SSR/SSG &amp; React Server Components - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../use-effect/">useEffect –∏ Side Effects</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../use-effect_small/">useEffect &amp; Side Effects - Senior Cheat Sheet</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Security</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../security/frontend-security/">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Frontend –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–π</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../security/frontend-security_small/">Frontend Security (small)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Testing</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../testing/strategies/">–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è frontend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../testing/strategies_small/">–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Frontend (small)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Typescript</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../typescript/advanced-types/">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–∏–ø—ã TypeScript</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../typescript/advanced-types_small/">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–∏–ø—ã TypeScript (small)</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">My Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Questions</li>
          <li class="breadcrumb-item">React</li>
      <li class="breadcrumb-item active">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ –≤ React</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="react">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ –≤ React</h1>
<h2 id="_1">üìã –í–æ–ø—Ä–æ—Å</h2>
<p>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ –≤ React: –∫–æ–≥–¥–∞ –∏ –∫–∞–∫ –ø—Ä–∏–º–µ–Ω—è—Ç—å React.memo, useMemo, useCallback? –ö–∞–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–∏—à–Ω–∏–µ —Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã (React DevTools Profiler), –≤—ã–±–∏—Ä–∞—Ç—å –∫–ª—é—á–∏, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞/useSyncExternalStore –∏ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é —Å–ø–∏—Å–∫–æ–≤?</p>
<h2 id="_2">üí° –û—Ç–≤–µ—Ç</h2>
<p>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ ‚Äî –∫–ª—é—á–µ–≤–æ–π –∞—Å–ø–µ–∫—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–≥–æ, –∫–æ–≥–¥–∞ –∏ –∫–∞–∫ –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –ø–æ–º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –±—ã—Å—Ç—Ä—ã–µ –∏ –æ—Ç–∑—ã–≤—á–∏–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.</p>
<h3 id="react_1">–û—Å–Ω–æ–≤—ã —Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≤ React</h3>
<h4 id="_3">–ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç —Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã</h4>
<pre><code class="language-javascript">function Parent() {
  const [count, setCount] = useState(0);
  const [name, setName] = useState('John');

  console.log('Parent renders');

  return (
    &lt;div&gt;
      &lt;button onClick={() =&gt; setCount(c =&gt; c + 1)}&gt;
        Count: {count}
      &lt;/button&gt;
      &lt;input 
        value={name} 
        onChange={(e) =&gt; setName(e.target.value)} 
      /&gt;

      {/* Child –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤ Parent */}
      &lt;Child /&gt;
      &lt;ExpensiveChild data={[1, 2, 3]} /&gt;
    &lt;/div&gt;
  );
}

function Child() {
  console.log('Child renders'); // –†–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤ Parent
  return &lt;div&gt;I'm a child&lt;/div&gt;;
}

function ExpensiveChild({ data }) {
  console.log('ExpensiveChild renders');

  // –¢—è–∂–µ–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
  const processedData = data.map(item =&gt; {
    // –°–ª–æ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
    return performExpensiveOperation(item);
  });

  return &lt;div&gt;{processedData.join(', ')}&lt;/div&gt;;
}
</code></pre>
<h3 id="reactmemo-">React.memo - –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</h3>
<h4 id="_4">–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</h4>
<pre><code class="language-javascript">// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
function UserCard({ user }) {
  console.log('UserCard renders for:', user.name);

  return (
    &lt;div className=&quot;user-card&quot;&gt;
      &lt;img src={user.avatar} alt={user.name} /&gt;
      &lt;h3&gt;{user.name}&lt;/h3&gt;
      &lt;p&gt;{user.email}&lt;/p&gt;
    &lt;/div&gt;
  );
}

// –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
const MemoizedUserCard = React.memo(function UserCard({ user }) {
  console.log('MemoizedUserCard renders for:', user.name);

  return (
    &lt;div className=&quot;user-card&quot;&gt;
      &lt;img src={user.avatar} alt={user.name} /&gt;
      &lt;h3&gt;{user.name}&lt;/h3&gt;
      &lt;p&gt;{user.email}&lt;/p&gt;
    &lt;/div&gt;
  );
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
function UserList({ users, onUserClick }) {
  const [filter, setFilter] = useState('');

  return (
    &lt;div&gt;
      &lt;input 
        value={filter}
        onChange={(e) =&gt; setFilter(e.target.value)}
        placeholder=&quot;Filter users...&quot;
      /&gt;

      {users.map(user =&gt; (
        &lt;MemoizedUserCard
          key={user.id}
          user={user}
          onClick={onUserClick} // ‚ö†Ô∏è –ú–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å —Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã
        /&gt;
      ))}
    &lt;/div&gt;
  );
}
</code></pre>
<h4 id="_5">–ö–∞—Å—Ç–æ–º–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ</h4>
<pre><code class="language-javascript">// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π –ª–æ–≥–∏–∫–æ–π —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
const OptimizedUserCard = React.memo(function UserCard({ user, theme, onClick }) {
  return (
    &lt;div className={`user-card user-card--${theme}`}&gt;
      &lt;h3&gt;{user.name}&lt;/h3&gt;
      &lt;p&gt;{user.email}&lt;/p&gt;
      &lt;button onClick={() =&gt; onClick(user.id)}&gt;
        View Profile
      &lt;/button&gt;
    &lt;/div&gt;
  );
}, (prevProps, nextProps) =&gt; {
  // –ö–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
  return (
    prevProps.user.id === nextProps.user.id &amp;&amp;
    prevProps.user.name === nextProps.user.name &amp;&amp;
    prevProps.user.email === nextProps.user.email &amp;&amp;
    prevProps.theme === nextProps.theme &amp;&amp;
    prevProps.onClick === nextProps.onClick
  );
});

// –ò–ª–∏ –±–æ–ª–µ–µ –æ–±—â–∏–π –ø–æ–¥—Ö–æ–¥
const deepCompareUserCard = React.memo(UserCard, (prevProps, nextProps) =&gt; {
  // –ì–ª—É–±–æ–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –ø–æ–ª–µ–π
  const userEqual = isEqual(prevProps.user, nextProps.user);
  const themeEqual = prevProps.theme === nextProps.theme;
  const handlerEqual = prevProps.onClick === nextProps.onClick;

  return userEqual &amp;&amp; themeEqual &amp;&amp; handlerEqual;
});
</code></pre>
<h3 id="usememo-">useMemo - –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π</h3>
<h4 id="_6">–î–æ—Ä–æ–≥–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è</h4>
<pre><code class="language-javascript">function ProductList({ products, filters, sortBy }) {
  // ‚ùå –ü–ª–æ—Ö–æ: –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
  const filteredProducts = products
    .filter(product =&gt; {
      return Object.entries(filters).every(([key, value]) =&gt; {
        if (!value) return true;
        return product[key].toLowerCase().includes(value.toLowerCase());
      });
    })
    .sort((a, b) =&gt; {
      if (sortBy === 'price') return a.price - b.price;
      if (sortBy === 'name') return a.name.localeCompare(b.name);
      return 0;
    });

  return (
    &lt;div&gt;
      {filteredProducts.map(product =&gt; (
        &lt;ProductCard key={product.id} product={product} /&gt;
      ))}
    &lt;/div&gt;
  );
}

// ‚úÖ –•–æ—Ä–æ—à–æ: –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
function OptimizedProductList({ products, filters, sortBy }) {
  const filteredAndSortedProducts = useMemo(() =&gt; {
    console.log('Recalculating filtered products');

    return products
      .filter(product =&gt; {
        return Object.entries(filters).every(([key, value]) =&gt; {
          if (!value) return true;
          return product[key].toLowerCase().includes(value.toLowerCase());
        });
      })
      .sort((a, b) =&gt; {
        if (sortBy === 'price') return a.price - b.price;
        if (sortBy === 'name') return a.name.localeCompare(b.name);
        return 0;
      });
  }, [products, filters, sortBy]);

  // –û—Ç–¥–µ–ª—å–Ω–∞—è –º–µ–º–æ–∏–∑–∞—Ü–∏—è –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  const statistics = useMemo(() =&gt; {
    console.log('Recalculating statistics');

    return {
      total: filteredAndSortedProducts.length,
      averagePrice: filteredAndSortedProducts.reduce((sum, p) =&gt; sum + p.price, 0) / filteredAndSortedProducts.length,
      categories: [...new Set(filteredAndSortedProducts.map(p =&gt; p.category))]
    };
  }, [filteredAndSortedProducts]);

  return (
    &lt;div&gt;
      &lt;div className=&quot;statistics&quot;&gt;
        &lt;p&gt;Total: {statistics.total}&lt;/p&gt;
        &lt;p&gt;Average Price: ${statistics.averagePrice.toFixed(2)}&lt;/p&gt;
        &lt;p&gt;Categories: {statistics.categories.join(', ')}&lt;/p&gt;
      &lt;/div&gt;

      {filteredAndSortedProducts.map(product =&gt; (
        &lt;ProductCard key={product.id} product={product} /&gt;
      ))}
    &lt;/div&gt;
  );
}
</code></pre>
<h4 id="_7">–ú–µ–º–æ–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –º–∞—Å—Å–∏–≤–æ–≤</h4>
<pre><code class="language-javascript">function ComponentWithObjects({ items, config }) {
  // ‚ùå –ü–ª–æ—Ö–æ: –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
  const tableConfig = {
    sortable: true,
    filterable: true,
    pageSize: config.pageSize || 10
  };

  // ‚ùå –ü–ª–æ—Ö–æ: –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
  const processedItems = items.map(item =&gt; ({
    ...item,
    displayName: `${item.firstName} ${item.lastName}`
  }));

  return &lt;DataTable config={tableConfig} items={processedItems} /&gt;;
}

// ‚úÖ –•–æ—Ä–æ—à–æ: –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
function OptimizedComponentWithObjects({ items, config }) {
  const tableConfig = useMemo(() =&gt; ({
    sortable: true,
    filterable: true,
    pageSize: config.pageSize || 10
  }), [config.pageSize]);

  const processedItems = useMemo(() =&gt; 
    items.map(item =&gt; ({
      ...item,
      displayName: `${item.firstName} ${item.lastName}`
    })), 
    [items]
  );

  return &lt;DataTable config={tableConfig} items={processedItems} /&gt;;
}
</code></pre>
<h3 id="usecallback-">useCallback - –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π</h3>
<h4 id="_8">–°—Ç–∞–±–∏–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏</h4>
<pre><code class="language-javascript">function TodoList({ todos, onToggle, onDelete }) {
  const [filter, setFilter] = useState('all');

  // ‚ùå –ü–ª–æ—Ö–æ: –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
  const handleToggle = (id) =&gt; {
    onToggle(id);
  };

  const handleDelete = (id) =&gt; {
    onDelete(id);
  };

  const filteredTodos = todos.filter(todo =&gt; {
    if (filter === 'active') return !todo.completed;
    if (filter === 'completed') return todo.completed;
    return true;
  });

  return (
    &lt;div&gt;
      &lt;FilterButtons current={filter} onChange={setFilter} /&gt;

      {filteredTodos.map(todo =&gt; (
        &lt;TodoItem
          key={todo.id}
          todo={todo}
          onToggle={handleToggle}    // –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∫–∞–∂–¥—ã–π —Ä–∞–∑
          onDelete={handleDelete}    // –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∫–∞–∂–¥—ã–π —Ä–∞–∑
        /&gt;
      ))}
    &lt;/div&gt;
  );
}

// ‚úÖ –•–æ—Ä–æ—à–æ: –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
function OptimizedTodoList({ todos, onToggle, onDelete }) {
  const [filter, setFilter] = useState('all');

  const handleToggle = useCallback((id) =&gt; {
    onToggle(id);
  }, [onToggle]);

  const handleDelete = useCallback((id) =&gt; {
    onDelete(id);
  }, [onDelete]);

  const filteredTodos = useMemo(() =&gt; {
    return todos.filter(todo =&gt; {
      if (filter === 'active') return !todo.completed;
      if (filter === 'completed') return todo.completed;
      return true;
    });
  }, [todos, filter]);

  return (
    &lt;div&gt;
      &lt;FilterButtons current={filter} onChange={setFilter} /&gt;

      {filteredTodos.map(todo =&gt; (
        &lt;MemoizedTodoItem
          key={todo.id}
          todo={todo}
          onToggle={handleToggle}
          onDelete={handleDelete}
        /&gt;
      ))}
    &lt;/div&gt;
  );
}

const MemoizedTodoItem = React.memo(TodoItem);
</code></pre>
<h4 id="_9">–°–ª–æ–∂–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π</h4>
<pre><code class="language-javascript">function FormComponent({ initialData, onSubmit }) {
  const [formData, setFormData] = useState(initialData);
  const [errors, setErrors] = useState({});

  // –ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
  const validateField = useCallback((name, value) =&gt; {
    const validators = {
      email: (val) =&gt; /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(val) || 'Invalid email',
      password: (val) =&gt; val.length &gt;= 8 || 'Password must be at least 8 characters',
      confirmPassword: (val) =&gt; val === formData.password || 'Passwords do not match'
    };

    const validator = validators[name];
    return validator ? validator(value) === true ? null : validator(value) : null;
  }, [formData.password]);

  const handleFieldChange = useCallback((name, value) =&gt; {
    setFormData(prev =&gt; ({ ...prev, [name]: value }));

    // –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –ª–µ—Ç—É
    const error = validateField(name, value);
    setErrors(prev =&gt; ({ ...prev, [name]: error }));
  }, [validateField]);

  const handleSubmit = useCallback((e) =&gt; {
    e.preventDefault();

    // –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
    const newErrors = {};
    Object.entries(formData).forEach(([name, value]) =&gt; {
      const error = validateField(name, value);
      if (error) newErrors[name] = error;
    });

    if (Object.keys(newErrors).length === 0) {
      onSubmit(formData);
    } else {
      setErrors(newErrors);
    }
  }, [formData, validateField, onSubmit]);

  return (
    &lt;form onSubmit={handleSubmit}&gt;
      &lt;FormField
        name=&quot;email&quot;
        value={formData.email}
        error={errors.email}
        onChange={handleFieldChange}
      /&gt;
      &lt;FormField
        name=&quot;password&quot;
        type=&quot;password&quot;
        value={formData.password}
        error={errors.password}
        onChange={handleFieldChange}
      /&gt;
      &lt;FormField
        name=&quot;confirmPassword&quot;
        type=&quot;password&quot;
        value={formData.confirmPassword}
        error={errors.confirmPassword}
        onChange={handleFieldChange}
      /&gt;

      &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;
    &lt;/form&gt;
  );
}

const FormField = React.memo(function FormField({ name, value, error, onChange, ...props }) {
  return (
    &lt;div&gt;
      &lt;input
        {...props}
        value={value}
        onChange={(e) =&gt; onChange(name, e.target.value)}
      /&gt;
      {error &amp;&amp; &lt;span className=&quot;error&quot;&gt;{error}&lt;/span&gt;}
    &lt;/div&gt;
  );
});
</code></pre>
<h3 id="react-devtools-profiler">–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å React DevTools Profiler</h3>
<h4 id="_10">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è</h4>
<pre><code class="language-javascript">import { Profiler } from 'react';

function App() {
  const handleRender = (id, phase, actualDuration, baseDuration, startTime, commitTime) =&gt; {
    console.log('Profiler data:', {
      id,                    // –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä Profiler
      phase,                 // &quot;mount&quot; –∏–ª–∏ &quot;update&quot;
      actualDuration,        // –í—Ä–µ–º—è, –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –Ω–∞ —Ä–µ–Ω–¥–µ—Ä
      baseDuration,          // –í—Ä–µ–º—è –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
      startTime,             // –ö–æ–≥–¥–∞ –Ω–∞—á–∞–ª—Å—è —Ä–µ–Ω–¥–µ—Ä
      commitTime,            // –ö–æ–≥–¥–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—ã–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
      interactions: new Set() // –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è, –≤—ã–∑–≤–∞–≤—à–∏–µ —Ä–µ–Ω–¥–µ—Ä
    });
  };

  return (
    &lt;div&gt;
      &lt;Profiler id=&quot;Navigation&quot; onRender={handleRender}&gt;
        &lt;Navigation /&gt;
      &lt;/Profiler&gt;

      &lt;Profiler id=&quot;MainContent&quot; onRender={handleRender}&gt;
        &lt;MainContent /&gt;
      &lt;/Profiler&gt;

      &lt;Profiler id=&quot;Sidebar&quot; onRender={handleRender}&gt;
        &lt;Sidebar /&gt;
      &lt;/Profiler&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h4 id="_11">–°–æ–∑–¥–∞–Ω–∏–µ —Ö—É–∫–∞ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è</h4>
<pre><code class="language-javascript">function useRenderTracker(componentName) {
  const renderCount = useRef(0);
  const lastRenderTime = useRef(Date.now());

  renderCount.current += 1;

  useEffect(() =&gt; {
    const now = Date.now();
    const timeSinceLastRender = now - lastRenderTime.current;

    console.log(`${componentName} render #${renderCount.current}`, {
      timeSinceLastRender,
      timestamp: new Date().toISOString()
    });

    lastRenderTime.current = now;
  });

  return renderCount.current;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
function MyComponent({ data }) {
  const renderCount = useRenderTracker('MyComponent');

  return (
    &lt;div&gt;
      &lt;span&gt;Render count: {renderCount}&lt;/span&gt;
      &lt;div&gt;{JSON.stringify(data)}&lt;/div&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3 id="_12">–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–π</h3>
<h4 id="_13">–ü—Ä–æ–±–ª–µ–º—ã —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏</h4>
<pre><code class="language-javascript">// ‚ùå –ü–ª–æ—Ö–æ: –∏–Ω–¥–µ–∫—Å –∫–∞–∫ –∫–ª—é—á
function BadTodoList({ todos }) {
  return (
    &lt;ul&gt;
      {todos.map((todo, index) =&gt; (
        &lt;TodoItem
          key={index}           // –ü—Ä–æ–±–ª–µ–º–∞ –ø—Ä–∏ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å–ø–∏—Å–∫–∞
          todo={todo}
        /&gt;
      ))}
    &lt;/ul&gt;
  );
}

// –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞:
// [todo1, todo2, todo3] -&gt; [newTodo, todo1, todo2, todo3]
// React –¥—É–º–∞–µ—Ç:
// - key=0: todo1 -&gt; newTodo (–∏–∑–º–µ–Ω–∏–ª—Å—è)
// - key=1: todo2 -&gt; todo1 (–∏–∑–º–µ–Ω–∏–ª—Å—è)  
// - key=2: todo3 -&gt; todo2 (–∏–∑–º–µ–Ω–∏–ª—Å—è)
// - key=3: undefined -&gt; todo3 (–Ω–æ–≤—ã–π)
// –†–µ–∑—É–ª—å—Ç–∞—Ç: 3 –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è + 1 –≤—Å—Ç–∞–≤–∫–∞ –≤–º–µ—Å—Ç–æ 1 –≤—Å—Ç–∞–≤–∫–∏

// ‚úÖ –•–æ—Ä–æ—à–æ: —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏
function GoodTodoList({ todos }) {
  return (
    &lt;ul&gt;
      {todos.map(todo =&gt; (
        &lt;TodoItem
          key={todo.id}         // –°—Ç–∞–±–∏–ª—å–Ω—ã–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á
          todo={todo}
        /&gt;
      ))}
    &lt;/ul&gt;
  );
}
</code></pre>
<h4 id="_14">–°–æ—Å—Ç–∞–≤–Ω—ã–µ –∫–ª—é—á–∏</h4>
<pre><code class="language-javascript">function CommentsList({ posts }) {
  return (
    &lt;div&gt;
      {posts.map(post =&gt; (
        &lt;div key={post.id}&gt;
          &lt;h3&gt;{post.title}&lt;/h3&gt;

          {post.comments.map(comment =&gt; (
            &lt;Comment
              key={`${post.id}-${comment.id}`} // –°–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á
              comment={comment}
            /&gt;
          ))}
        &lt;/div&gt;
      ))}
    &lt;/div&gt;
  );
}

// –î–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
function DynamicForm({ fields }) {
  return (
    &lt;form&gt;
      {fields.map((field, index) =&gt; (
        &lt;FormField
          key={field.id || `field-${field.type}-${index}`}
          field={field}
        /&gt;
      ))}
    &lt;/form&gt;
  );
}
</code></pre>
<h3 id="_15">–°–µ–ª–µ–∫—Ç–æ—Ä—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</h3>
<h4 id="context">–ü—Ä–æ–±–ª–µ–º–∞ —Å Context</h4>
<pre><code class="language-javascript">// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –≤—Å–µ consumers —Ä–µ—Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è
const AppContext = createContext();

function AppProvider({ children }) {
  const [user, setUser] = useState(null);
  const [theme, setTheme] = useState('light');
  const [notifications, setNotifications] = useState([]);

  const value = { user, setUser, theme, setTheme, notifications, setNotifications };

  return (
    &lt;AppContext.Provider value={value}&gt;
      {children}
    &lt;/AppContext.Provider&gt;
  );
}

function UserDisplay() {
  const { user } = useContext(AppContext); // –†–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
  return &lt;div&gt;{user?.name}&lt;/div&gt;;
}

function ThemeToggle() {
  const { theme, setTheme } = useContext(AppContext); // –†–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ user
  return &lt;button onClick={() =&gt; setTheme(theme === 'light' ? 'dark' : 'light')}&gt;Toggle&lt;/button&gt;;
}
</code></pre>
<h4 id="_16">–†–µ—à–µ–Ω–∏–µ: –†–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã</h4>
<pre><code class="language-javascript">// ‚úÖ –†–µ—à–µ–Ω–∏–µ: –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
const UserContext = createContext();
const ThemeContext = createContext();
const NotificationsContext = createContext();

function UserProvider({ children }) {
  const [user, setUser] = useState(null);
  const value = useMemo(() =&gt; ({ user, setUser }), [user]);

  return (
    &lt;UserContext.Provider value={value}&gt;
      {children}
    &lt;/UserContext.Provider&gt;
  );
}

function ThemeProvider({ children }) {
  const [theme, setTheme] = useState('light');
  const value = useMemo(() =&gt; ({ theme, setTheme }), [theme]);

  return (
    &lt;ThemeContext.Provider value={value}&gt;
      {children}
    &lt;/ThemeContext.Provider&gt;
  );
}

// –¢–µ–ø–µ—Ä—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ—Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω—É–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
function UserDisplay() {
  const { user } = useContext(UserContext); // –¢–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ user
  return &lt;div&gt;{user?.name}&lt;/div&gt;;
}

function ThemeToggle() {
  const { theme, setTheme } = useContext(ThemeContext); // –¢–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ theme
  return &lt;button onClick={() =&gt; setTheme(theme === 'light' ? 'dark' : 'light')}&gt;Toggle&lt;/button&gt;;
}
</code></pre>
<h3 id="usesyncexternalstore">useSyncExternalStore</h3>
<h4 id="store">–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ store</h4>
<pre><code class="language-javascript">// External store (–Ω–∞–ø—Ä–∏–º–µ—Ä, Zustand store)
const useStore = create((set) =&gt; ({
  count: 0,
  user: null,
  increment: () =&gt; set((state) =&gt; ({ count: state.count + 1 })),
  setUser: (user) =&gt; set({ user })
}));

// –°–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ –Ω—É–∂–Ω—ã–µ —á–∞—Å—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
function useCount() {
  return useSyncExternalStore(
    useStore.subscribe,
    () =&gt; useStore.getState().count,
    () =&gt; 0 // Server-side –∑–Ω–∞—á–µ–Ω–∏–µ
  );
}

function useUser() {
  return useSyncExternalStore(
    useStore.subscribe,
    () =&gt; useStore.getState().user,
    () =&gt; null
  );
}

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ—Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö
function Counter() {
  const count = useCount(); // –¢–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ count
  const increment = useStore(state =&gt; state.increment);

  return (
    &lt;button onClick={increment}&gt;
      Count: {count}
    &lt;/button&gt;
  );
}

function UserProfile() {
  const user = useUser(); // –¢–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ user

  return &lt;div&gt;{user?.name || 'Anonymous'}&lt;/div&gt;;
}
</code></pre>
<h3 id="_17">–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤</h3>
<h4 id="_18">–ü—Ä–æ–±–ª–µ–º–∞ –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤</h4>
<pre><code class="language-javascript">// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: —Ä–µ–Ω–¥–µ—Ä –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
function HugeList({ items }) {
  return (
    &lt;div className=&quot;list&quot;&gt;
      {items.map(item =&gt; (
        &lt;div key={item.id} className=&quot;list-item&quot;&gt;
          &lt;h3&gt;{item.title}&lt;/h3&gt;
          &lt;p&gt;{item.description}&lt;/p&gt;
          &lt;img src={item.thumbnail} alt={item.title} /&gt;
        &lt;/div&gt;
      ))}
    &lt;/div&gt;
  );
}

// –ü—Ä–∏ 10,000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ - —Å–µ—Ä—å–µ–∑–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
</code></pre>
<h4 id="react-window">–†–µ—à–µ–Ω–∏–µ: react-window</h4>
<pre><code class="language-javascript">import { FixedSizeList as List } from 'react-window';

// ‚úÖ –í–∏—Ä—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
function VirtualizedList({ items }) {
  const Row = ({ index, style }) =&gt; (
    &lt;div style={style} className=&quot;list-item&quot;&gt;
      &lt;h3&gt;{items[index].title}&lt;/h3&gt;
      &lt;p&gt;{items[index].description}&lt;/p&gt;
      &lt;img src={items[index].thumbnail} alt={items[index].title} /&gt;
    &lt;/div&gt;
  );

  return (
    &lt;List
      height={600}        // –í—ã—Å–æ—Ç–∞ –≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç–∏
      itemCount={items.length}
      itemSize={120}      // –í—ã—Å–æ—Ç–∞ –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
      width=&quot;100%&quot;
    &gt;
      {Row}
    &lt;/List&gt;
  );
}

// –î–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑–Ω–æ–π –≤—ã—Å–æ—Ç—ã
import { VariableSizeList as VariableList } from 'react-window';

function VariableHeightList({ items }) {
  const getItemSize = (index) =&gt; {
    // –í—ã—á–∏—Å–ª—è–µ–º –≤—ã—Å–æ—Ç—É –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
    const item = items[index];
    const baseHeight = 80;
    const descriptionHeight = item.description.length &gt; 100 ? 40 : 20;
    return baseHeight + descriptionHeight;
  };

  const Row = ({ index, style }) =&gt; (
    &lt;div style={style} className=&quot;list-item&quot;&gt;
      &lt;h3&gt;{items[index].title}&lt;/h3&gt;
      &lt;p&gt;{items[index].description}&lt;/p&gt;
    &lt;/div&gt;
  );

  return (
    &lt;VariableList
      height={600}
      itemCount={items.length}
      itemSize={getItemSize}
      width=&quot;100%&quot;
    &gt;
      {Row}
    &lt;/VariableList&gt;
  );
}
</code></pre>
<h4 id="_19">–ö–∞—Å—Ç–æ–º–Ω–∞—è –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è</h4>
<pre><code class="language-javascript">function useVirtualization({ itemCount, itemHeight, containerHeight }) {
  const [scrollTop, setScrollTop] = useState(0);

  const startIndex = Math.floor(scrollTop / itemHeight);
  const endIndex = Math.min(
    itemCount - 1,
    Math.floor((scrollTop + containerHeight) / itemHeight)
  );

  const visibleItems = [];
  for (let i = startIndex; i &lt;= endIndex; i++) {
    visibleItems.push(i);
  }

  const totalHeight = itemCount * itemHeight;
  const offsetY = startIndex * itemHeight;

  return {
    startIndex,
    endIndex,
    visibleItems,
    totalHeight,
    offsetY,
    setScrollTop
  };
}

function CustomVirtualList({ items, itemHeight = 50 }) {
  const containerRef = useRef();
  const [containerHeight, setContainerHeight] = useState(400);

  const {
    visibleItems,
    totalHeight,
    offsetY,
    setScrollTop
  } = useVirtualization({
    itemCount: items.length,
    itemHeight,
    containerHeight
  });

  const handleScroll = (e) =&gt; {
    setScrollTop(e.target.scrollTop);
  };

  return (
    &lt;div
      ref={containerRef}
      className=&quot;virtual-list&quot;
      style={{ height: containerHeight, overflow: 'auto' }}
      onScroll={handleScroll}
    &gt;
      &lt;div style={{ height: totalHeight, position: 'relative' }}&gt;
        &lt;div style={{ transform: `translateY(${offsetY}px)` }}&gt;
          {visibleItems.map(index =&gt; (
            &lt;div
              key={items[index].id}
              style={{ height: itemHeight }}
              className=&quot;list-item&quot;
            &gt;
              {items[index].title}
            &lt;/div&gt;
          ))}
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3 id="_20">–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã</h3>
<h4 id="_21">–ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</h4>
<pre><code class="language-javascript">// ‚ùå –ò–∑–±—ã—Ç–æ—á–Ω–∞—è –º–µ–º–æ–∏–∑–∞—Ü–∏—è
function OverOptimized({ name, age }) {
  // –ù–µ –Ω—É–∂–Ω–æ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
  const greeting = useMemo(() =&gt; `Hello, ${name}!`, [name]);

  // –ù–µ –Ω—É–∂–Ω–æ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  const handleClick = useCallback(() =&gt; {
    console.log('clicked');
  }, []);

  return (
    &lt;div onClick={handleClick}&gt;
      {greeting} You are {age} years old.
    &lt;/div&gt;
  );
}

// ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –≥–¥–µ –Ω—É–∂–Ω–æ
function WellOptimized({ users, onUserSelect }) {
  // –ú–µ–º–æ–∏–∑–∏—Ä—É–µ–º —Ç—è–∂–µ–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
  const sortedUsers = useMemo(() =&gt; {
    return users.sort((a, b) =&gt; a.lastName.localeCompare(b.lastName));
  }, [users]);

  // –ú–µ–º–æ–∏–∑–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –≤ memo –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  const handleUserSelect = useCallback((userId) =&gt; {
    onUserSelect(userId);
  }, [onUserSelect]);

  return (
    &lt;div&gt;
      {sortedUsers.map(user =&gt; (
        &lt;MemoizedUserCard
          key={user.id}
          user={user}
          onSelect={handleUserSelect}
        /&gt;
      ))}
    &lt;/div&gt;
  );
}
</code></pre>
<h4 id="_22">–ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h4>
<pre><code class="language-javascript">function PerformanceMonitor({ children }) {
  const renderCount = useRef(0);
  const lastRenderTime = useRef(performance.now());

  const onRenderCallback = useCallback((id, phase, actualDuration) =&gt; {
    renderCount.current += 1;
    const now = performance.now();

    console.log(`Render #${renderCount.current}:`, {
      component: id,
      phase,
      duration: actualDuration,
      timeSinceLastRender: now - lastRenderTime.current
    });

    lastRenderTime.current = now;

    // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Ä–µ–Ω–¥–µ—Ä–∞—Ö
    if (actualDuration &gt; 16) { // &gt; 1 frame at 60fps
      console.warn(`Slow render detected: ${actualDuration}ms`);
    }
  }, []);

  return (
    &lt;Profiler id=&quot;PerformanceMonitor&quot; onRender={onRenderCallback}&gt;
      {children}
    &lt;/Profiler&gt;
  );
}
</code></pre>
<h3 id="senior-">Senior-—Å–æ–≤–µ—Ç—ã</h3>
<ol>
<li><strong>–ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞</strong> - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ React DevTools Profiler –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º</li>
<li><strong>React.memo –¥–ª—è "–ª–∏—Å—Ç–æ–≤—ã—Ö" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</strong> - –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Å–ø–∏—Å–∫–∞—Ö –∏ —Ç–∞–±–ª–∏—Ü–∞—Ö</li>
<li><strong>useMemo –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π</strong> - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</li>
<li><strong>useCallback –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</strong> - –æ—Å–æ–±–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –≤ memo –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</li>
<li><strong>–°—Ç–∞–±–∏–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã</strong> - –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–¥–µ–∫—Å –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–ø–∏—Å–∫–æ–≤</li>
<li><strong>–†–∞–∑–¥–µ–ª—è–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã</strong> - –ø–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —á–∞—Å—Ç–æ—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π</li>
<li><strong>–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤</strong> - react-window –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ</li>
<li><strong>–ò–∑–º–µ—Ä—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç</strong> - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–µ–∑ –∏–∑–º–µ—Ä–µ–Ω–∏–π –º–æ–∂–µ—Ç –Ω–∞–≤—Ä–µ–¥–∏—Ç—å</li>
</ol>
<h3 id="_23">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏</h3>
<p>```javascript
// –•—É–∫ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π props
function useWhyDidYouUpdate(name, props) {
  const previous = useRef();</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../reconciliation_small/" class="btn btn-neutral float-left" title="Reconciliation &amp; Virtual DOM - Senior Cheat Sheet (small)"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../rerender-optimization_small/" class="btn btn-neutral float-right" title="React Rerender Optimization - Senior Cheat Sheet (small)">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../reconciliation_small/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../rerender-optimization_small/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
