<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Async Programming - Senior Cheat Sheet (small) - My Docs</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Async Programming - Senior Cheat Sheet (small)";
        var mkdocs_page_input_path = "questions/javascript/async-programming_small.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> My Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">üìö –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—é: JavaScript, React –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Questions</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" >Architecture</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/ddd/">Domain-Driven Design (DDD) –≤–æ Frontend</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/ddd_small/">Domain-Driven Design (DDD) –≤–æ Frontend (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/microfrontends/">–ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã (Microfrontends)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/microfrontends_small/">Microfrontends - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/offline-first/">Offline-first –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/offline-first_small/">Offline-First –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/resilient-frontend/">–£—Å—Ç–æ–π—á–∏–≤–∞—è frontend –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/resilient-frontend_small/">–£—Å—Ç–æ–π—á–∏–≤–∞—è Frontend –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/state-management/">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/state-management_small/">State Management Architecture - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/websockets-realtime/">WebSockets –∏ real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../architecture/websockets-realtime_small/">WebSockets –∏ Real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è (small)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Javascript</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../async-programming/">Promises, Async/Await –∏ Generators</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Async Programming - Senior Cheat Sheet (small)</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#promise">Promise –º–µ—Ç–æ–¥—ã</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#asyncawait">Async/Await –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#vs">–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ vs –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#generators">Generators</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_1">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#react">React –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#useeffect-async">useEffect —Å async</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#custom-hooks">Custom hooks</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_2">–ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ö—É–∫</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#error-handling">Error Handling</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#retry">Retry –ø–∞—Ç—Ç–µ—Ä–Ω</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#timeout-wrapper">Timeout wrapper</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#senior-patterns">Senior Patterns</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#cancelable-operations">Cancelable operations</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#queue-with-concurrency-limit">Queue with concurrency limit</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#senior-rules">Senior Rules</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#anti-patterns">Anti-patterns</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../currying/">Currying –≤ JavaScript</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../currying_small/">Currying - –®–ø–∞—Ä–≥–∞–ª–∫–∞ (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../event-loop/">Event Loop, Microtasks –∏ Macrotasks</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../event-loop_small/">Event Loop - –®–ø–∞—Ä–≥–∞–ª–∫–∞ (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../execution-model/">–ú–æ–¥–µ–ª—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è JavaScript</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../execution-model_small/">JavaScript Execution Model - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../garbage-collection/">Garbage Collection –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../garbage-collection_small/">Garbage Collection - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../scope-hoisting/">Let, Const, Var: Scope –∏ Hoisting</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../scope-hoisting_small/">Let, Const, Var - –®–ø–∞—Ä–≥–∞–ª–∫–∞ (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../typing-comparison/">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ JS –∏ Java</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../typing-comparison_small/">JS vs Java Typing + TypeScript - Senior Cheat Sheet (small)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Performance</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../performance/optimization/">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ frontend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../performance/optimization_small/">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Frontend (small)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >React</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../react/concurrent-rendering/">–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ React 18</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/concurrent-rendering_small/">React 18 Concurrent Rendering - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/context-api/">Context API vs Redux</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/context-api_small/">Context API vs Redux - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/hoc/">Higher-Order Components (HOC)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/hoc_small/">Higher-Order Components - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/reconciliation/">Reconciliation –∏ Virtual DOM</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/reconciliation_small/">Reconciliation &amp; Virtual DOM - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/rerender-optimization/">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ –≤ React</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/rerender-optimization_small/">React Rerender Optimization - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/ssr-rsc/">SSR/SSG –∏ React Server Components</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/ssr-rsc_small/">SSR/SSG &amp; React Server Components - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/use-effect/">useEffect –∏ Side Effects</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/use-effect_small/">useEffect &amp; Side Effects - Senior Cheat Sheet</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Security</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../security/frontend-security/">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Frontend –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–π</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../security/frontend-security_small/">Frontend Security (small)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Testing</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../testing/strategies/">–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è frontend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../testing/strategies_small/">–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Frontend (small)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Typescript</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../typescript/advanced-types/">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–∏–ø—ã TypeScript</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../typescript/advanced-types_small/">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–∏–ø—ã TypeScript (small)</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">My Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Questions</li>
          <li class="breadcrumb-item">Javascript</li>
      <li class="breadcrumb-item active">Async Programming - Senior Cheat Sheet (small)</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="async-programming-senior-cheat-sheet-small">Async Programming - Senior Cheat Sheet (small)</h1>
<h2 id="promise">Promise –º–µ—Ç–æ–¥—ã</h2>
<pre><code class="language-javascript">// Promise.all - –≤—Å–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è —É—Å–ø–µ—à–Ω–æ
const [users, posts] = await Promise.all([fetchUsers(), fetchPosts()]);

// Promise.allSettled - –≤—Å–µ –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è (–≤–∫–ª—é—á–∞—è –æ—à–∏–±–∫–∏)
const results = await Promise.allSettled([fetch1(), fetch2()]);

// Promise.race - –ø–µ—Ä–≤—ã–π –∑–∞–≤–µ—Ä—à–∏–≤—à–∏–π—Å—è
const result = await Promise.race([fetchData(), timeout(5000)]);

// Promise.any - –ø–µ—Ä–≤—ã–π —É—Å–ø–µ—à–Ω—ã–π (ES2021)
const first = await Promise.any([slow(), fast(), failing()]);
</code></pre>
<h2 id="asyncawait">Async/Await –ø–∞—Ç—Ç–µ—Ä–Ω—ã</h2>
<h3 id="vs">–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ vs –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ</h3>
<pre><code class="language-javascript">// ‚ùå –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–º–µ–¥–ª–µ–Ω–Ω–æ)
const user = await fetchUser();
const posts = await fetchPosts();

// ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–±—ã—Å—Ç—Ä–æ)
const [user, posts] = await Promise.all([fetchUser(), fetchPosts()]);

// ‚úÖ –°–º–µ—à–∞–Ω–Ω–æ (—Ä–µ–∞–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞)
const user = await fetchUser(id);
const [posts, profile] = await Promise.all([
  fetchPosts(user.id),
  fetchProfile(user.id)
]);
</code></pre>
<h2 id="generators">Generators</h2>
<pre><code class="language-javascript">// –ë–∞–∑–æ–≤—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
function* gen() {
  const a = yield 1;
  const b = yield a + 1;
  return a + b;
}

// Async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (–ø–∞–≥–∏–Ω–∞—Ü–∏—è)
async function* paginatedFetch(url) {
  let page = 1;
  while (true) {
    const data = await fetch(`${url}?page=${page++}`);
    const items = await data.json();
    if (items.length === 0) break;
    yield items;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
for await (const items of paginatedFetch('/api/data')) {
  process(items);
}
</code></pre>
<h2 id="_1">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤</h2>
<table>
<thead>
<tr>
<th></th>
<th>Promises</th>
<th>Async/Await</th>
<th>Generators</th>
</tr>
</thead>
<tbody>
<tr>
<td>–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å</td>
<td>–°—Ä–µ–¥–Ω—è—è</td>
<td><strong>–í—ã—Å–æ–∫–∞—è</strong></td>
<td>–°—Ä–µ–¥–Ω—è—è</td>
</tr>
<tr>
<td>–û—à–∏–±–∫–∏</td>
<td><code>.catch()</code></td>
<td><code>try/catch</code></td>
<td><code>try/catch</code></td>
</tr>
<tr>
<td>–û—Ç–º–µ–Ω–∞</td>
<td>–°–ª–æ–∂–Ω–æ</td>
<td>–°–ª–æ–∂–Ω–æ</td>
<td><strong>–õ–µ–≥–∫–æ</strong></td>
</tr>
<tr>
<td>–õ–µ–Ω–∏–≤–æ—Å—Ç—å</td>
<td>–ù–µ—Ç</td>
<td>–ù–µ—Ç</td>
<td><strong>–î–∞</strong></td>
</tr>
</tbody>
</table>
<h2 id="react">React –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</h2>
<h3 id="useeffect-async">useEffect —Å async</h3>
<pre><code class="language-javascript">// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
useEffect(() =&gt; {
  let cancelled = false;

  const fetchData = async () =&gt; {
    try {
      const result = await fetch('/api/data');
      if (!cancelled) setData(await result.json());
    } catch (error) {
      if (!cancelled) setError(error);
    }
  };

  fetchData();
  return () =&gt; { cancelled = true; };
}, []);
</code></pre>
<h3 id="custom-hooks">Custom hooks</h3>
<pre><code class="language-javascript">// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π async —Ö—É–∫
function useAsyncOperation(asyncFn) {
  const [state, dispatch] = useReducer(asyncReducer, {
    data: null, loading: false, error: null
  });

  const execute = useCallback(async (...args) =&gt; {
    dispatch({ type: 'START' });
    try {
      const result = await asyncFn(...args);
      dispatch({ type: 'SUCCESS', payload: result });
      return result;
    } catch (error) {
      dispatch({ type: 'ERROR', error });
      throw error;
    }
  }, [asyncFn]);

  return { ...state, execute };
}

// AbortController –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
function useFetch(url) {
  const [data, setData] = useState(null);

  useEffect(() =&gt; {
    const controller = new AbortController();

    fetch(url, { signal: controller.signal })
      .then(r =&gt; r.json())
      .then(setData)
      .catch(err =&gt; err.name !== 'AbortError' &amp;&amp; console.error(err));

    return () =&gt; controller.abort();
  }, [url]);

  return data;
}
</code></pre>
<h3 id="_2">–ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ö—É–∫</h3>
<pre><code class="language-javascript">function usePaginatedData(url, pageSize = 10) {
  const [items, setItems] = useState([]);
  const [hasMore, setHasMore] = useState(true);

  const loadMore = useCallback(async () =&gt; {
    const response = await fetch(`${url}?page=${page}&amp;size=${pageSize}`);
    const data = await response.json();

    setItems(prev =&gt; [...prev, ...data.items]);
    setHasMore(data.items.length === pageSize);
  }, [url, pageSize]);

  return { items, hasMore, loadMore };
}
</code></pre>
<h2 id="error-handling">Error Handling</h2>
<h3 id="retry">Retry –ø–∞—Ç—Ç–µ—Ä–Ω</h3>
<pre><code class="language-javascript">async function withRetry(fn, maxRetries = 3, delay = 1000) {
  for (let attempt = 1; attempt &lt;= maxRetries; attempt++) {
    try {
      return await fn();
    } catch (error) {
      if (attempt === maxRetries) throw error;
      await new Promise(r =&gt; setTimeout(r, delay * attempt)); // Exponential backoff
    }
  }
}
</code></pre>
<h3 id="timeout-wrapper">Timeout wrapper</h3>
<pre><code class="language-javascript">function withTimeout(promise, ms) {
  const timeout = new Promise((_, reject) =&gt; 
    setTimeout(() =&gt; reject(new Error('Timeout')), ms)
  );
  return Promise.race([promise, timeout]);
}
</code></pre>
<h2 id="senior-patterns">Senior Patterns</h2>
<h3 id="cancelable-operations">Cancelable operations</h3>
<pre><code class="language-javascript">class CancelableOperation {
  constructor(executor) {
    this.cancelled = false;
    this.promise = new Promise((resolve, reject) =&gt; {
      executor(
        value =&gt; this.cancelled ? reject(new Error('Cancelled')) : resolve(value),
        error =&gt; this.cancelled ? reject(new Error('Cancelled')) : reject(error)
      );
    });
  }

  cancel() { this.cancelled = true; }
}
</code></pre>
<h3 id="queue-with-concurrency-limit">Queue with concurrency limit</h3>
<pre><code class="language-javascript">class AsyncQueue {
  constructor(concurrency = 3) {
    this.concurrency = concurrency;
    this.running = 0;
    this.queue = [];
  }

  async add(fn) {
    return new Promise((resolve, reject) =&gt; {
      this.queue.push({ fn, resolve, reject });
      this.tryNext();
    });
  }

  async tryNext() {
    if (this.running &gt;= this.concurrency || this.queue.length === 0) return;

    this.running++;
    const { fn, resolve, reject } = this.queue.shift();

    try {
      const result = await fn();
      resolve(result);
    } catch (error) {
      reject(error);
    } finally {
      this.running--;
      this.tryNext();
    }
  }
}
</code></pre>
<h2 id="senior-rules">Senior Rules</h2>
<ol>
<li><strong>AbortController</strong> –¥–ª—è –≤—Å–µ—Ö fetch –∑–∞–ø—Ä–æ—Å–æ–≤</li>
<li><strong>Promise.all</strong> –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li>
<li><strong>Cleanup functions</strong> –≤ useEffect –≤—Å–µ–≥–¥–∞</li>
<li><strong>Error boundaries</strong> –¥–ª—è async –æ—à–∏–±–æ–∫</li>
<li><strong>Retry —Å backoff</strong> –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li>
<li><strong>Debounce</strong> –¥–ª—è user input</li>
<li><strong>Queue</strong> –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è concurrency</li>
<li><strong>Generators</strong> –¥–ª—è complex iteration/cancellation</li>
</ol>
<h2 id="anti-patterns">Anti-patterns</h2>
<pre><code class="language-javascript">// ‚ùå async useEffect
useEffect(async () =&gt; { ... }, []); // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

// ‚ùå Promise hell
fetch().then().then().then(); // –ò—Å–ø–æ–ª—å–∑—É–π async/await

// ‚ùå –ó–∞–±—ã—Ç—ã–π cleanup
useEffect(() =&gt; {
  setInterval(fn, 1000); // Leak!
}, []);

// ‚ùå –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
const a = await fetchA(); // –ú–µ–¥–ª–µ–Ω–Ω–æ
const b = await fetchB();
</code></pre>
<p><strong>–ì–ª–∞–≤–Ω–æ–µ</strong>: –í—Å–µ–≥–¥–∞ –¥—É–º–∞–π –æ cleanup, cancellation –∏ error handling!</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../async-programming/" class="btn btn-neutral float-left" title="Promises, Async/Await –∏ Generators"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../currying/" class="btn btn-neutral float-right" title="Currying –≤ JavaScript">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../async-programming/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../currying/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
