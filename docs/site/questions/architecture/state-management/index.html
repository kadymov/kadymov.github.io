<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º - My Docs</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\u043c";
        var mkdocs_page_input_path = "questions/architecture/state-management.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> My Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">üìö –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—é: JavaScript, React –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Questions</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" >Architecture</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../ddd/">Domain-Driven Design (DDD) –≤–æ Frontend</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../ddd_small/">Domain-Driven Design (DDD) –≤–æ Frontend (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../microfrontends/">–ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã (Microfrontends)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../microfrontends_small/">Microfrontends - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../offline-first/">Offline-first –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../offline-first_small/">Offline-First –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../resilient-frontend/">–£—Å—Ç–æ–π—á–∏–≤–∞—è frontend –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../resilient-frontend_small/">–£—Å—Ç–æ–π—á–∏–≤–∞—è Frontend –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (small)</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#_2">–û–ø–∏—Å–∞–Ω–∏–µ</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_3">–î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#_4">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_5">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_6">–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_7">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#middleware">Middleware –∏ –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_9">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#_10">–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞ —Ä–µ—à–µ–Ω–∏—è</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#best-practices">Best Practices</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_11">–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_12">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../state-management_small/">State Management Architecture - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../websockets-realtime/">WebSockets –∏ real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../websockets-realtime_small/">WebSockets –∏ Real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è (small)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Javascript</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/async-programming/">Promises, Async/Await –∏ Generators</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/async-programming_small/">Async Programming - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/currying/">Currying –≤ JavaScript</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/currying_small/">Currying - –®–ø–∞—Ä–≥–∞–ª–∫–∞ (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/event-loop/">Event Loop, Microtasks –∏ Macrotasks</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/event-loop_small/">Event Loop - –®–ø–∞—Ä–≥–∞–ª–∫–∞ (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/execution-model/">–ú–æ–¥–µ–ª—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è JavaScript</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/execution-model_small/">JavaScript Execution Model - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/garbage-collection/">Garbage Collection –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/garbage-collection_small/">Garbage Collection - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/scope-hoisting/">Let, Const, Var: Scope –∏ Hoisting</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/scope-hoisting_small/">Let, Const, Var - –®–ø–∞—Ä–≥–∞–ª–∫–∞ (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/typing-comparison/">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ JS –∏ Java</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../javascript/typing-comparison_small/">JS vs Java Typing + TypeScript - Senior Cheat Sheet (small)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Performance</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../performance/optimization/">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ frontend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../performance/optimization_small/">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Frontend (small)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >React</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../react/concurrent-rendering/">–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ React 18</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/concurrent-rendering_small/">React 18 Concurrent Rendering - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/context-api/">Context API vs Redux</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/context-api_small/">Context API vs Redux - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/hoc/">Higher-Order Components (HOC)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/hoc_small/">Higher-Order Components - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/reconciliation/">Reconciliation –∏ Virtual DOM</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/reconciliation_small/">Reconciliation &amp; Virtual DOM - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/rerender-optimization/">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ –≤ React</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/rerender-optimization_small/">React Rerender Optimization - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/ssr-rsc/">SSR/SSG –∏ React Server Components</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/ssr-rsc_small/">SSR/SSG &amp; React Server Components - Senior Cheat Sheet (small)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/use-effect/">useEffect –∏ Side Effects</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../react/use-effect_small/">useEffect &amp; Side Effects - Senior Cheat Sheet</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Security</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../security/frontend-security/">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Frontend –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–π</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../security/frontend-security_small/">Frontend Security (small)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Testing</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../testing/strategies/">–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è frontend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../testing/strategies_small/">–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Frontend (small)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Typescript</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../typescript/advanced-types/">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–∏–ø—ã TypeScript</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../typescript/advanced-types_small/">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–∏–ø—ã TypeScript (small)</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">My Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Questions</li>
          <li class="breadcrumb-item">Architecture</li>
      <li class="breadcrumb-item active">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="_1">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</h1>
<h2 id="_2">–û–ø–∏—Å–∞–Ω–∏–µ</h2>
<p>–í–æ–ø—Ä–æ—Å –∫–∞—Å–∞–µ—Ç—Å—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤ –º–∞—Å—à—Ç–∞–±–Ω—ã—Ö frontend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, –≤–∫–ª—é—á–∞—è –≤—ã–±–æ—Ä –º–µ–∂–¥—É Redux, Context API, Zustand –∏ –¥—Ä—É–≥–∏–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏.</p>
<h2 id="_3">–î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</h2>
<h3 id="_4">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</h3>
<h4 id="redux">Redux</h4>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</strong>:
- –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –û—Ç–ª–∏—á–Ω—ã–µ DevTools
- Middleware —Å–∏—Å—Ç–µ–º–∞
- Time travel debugging
- –°—Ç—Ä–æ–≥–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</p>
<p><strong>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</strong>:
- –ú–Ω–æ–≥–æ boilerplate –∫–æ–¥–∞
- –ö—Ä–∏–≤–∞—è –æ–±—É—á–µ–Ω–∏—è
- Overkill –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</p>
<pre><code class="language-javascript">// Redux Toolkit - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
import { createSlice, configureStore } from '@reduxjs/toolkit';

const userSlice = createSlice({
  name: 'user',
  initialState: {
    profile: null,
    loading: false,
    error: null,
  },
  reducers: {
    setLoading: (state, action) =&gt; {
      state.loading = action.payload;
    },
    setUser: (state, action) =&gt; {
      state.profile = action.payload;
      state.loading = false;
      state.error = null;
    },
    setError: (state, action) =&gt; {
      state.error = action.payload;
      state.loading = false;
    },
  },
});

// Async thunk –¥–ª—è API –≤—ã–∑–æ–≤–æ–≤
export const fetchUser = createAsyncThunk(
  'user/fetchUser',
  async (userId, { rejectWithValue }) =&gt; {
    try {
      const response = await api.getUser(userId);
      return response.data;
    } catch (error) {
      return rejectWithValue(error.response.data);
    }
  }
);

const store = configureStore({
  reducer: {
    user: userSlice.reducer,
  },
  middleware: (getDefaultMiddleware) =&gt;
    getDefaultMiddleware({
      serializableCheck: {
        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],
      },
    }),
});
</code></pre>
<h4 id="context-api-usereducer">Context API + useReducer</h4>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</strong>:
- –í—Å—Ç—Ä–æ–µ–Ω –≤ React
- –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è</p>
<p><strong>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</strong>:
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö
- –ù–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö DevTools
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏ –≤ –±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö</p>
<pre><code class="language-javascript">// –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å Context API
const UserContext = createContext();
const UserDispatchContext = createContext();

function userReducer(state, action) {
  switch (action.type) {
    case 'SET_LOADING':
      return { ...state, loading: action.payload };
    case 'SET_USER':
      return {
        ...state,
        profile: action.payload,
        loading: false,
        error: null,
      };
    case 'SET_ERROR':
      return {
        ...state,
        error: action.payload,
        loading: false,
      };
    default:
      throw new Error(`Unknown action: ${action.type}`);
  }
}

export function UserProvider({ children }) {
  const [state, dispatch] = useReducer(userReducer, {
    profile: null,
    loading: false,
    error: null,
  });

  return (
    &lt;UserContext.Provider value={state}&gt;
      &lt;UserDispatchContext.Provider value={dispatch}&gt;
        {children}
      &lt;/UserDispatchContext.Provider&gt;
    &lt;/UserContext.Provider&gt;
  );
}

// –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
export function useUser() {
  const context = useContext(UserContext);
  if (context === undefined) {
    throw new Error('useUser must be used within a UserProvider');
  }
  return context;
}

export function useUserDispatch() {
  const context = useContext(UserDispatchContext);
  if (context === undefined) {
    throw new Error('useUserDispatch must be used within a UserProvider');
  }
  return context;
}
</code></pre>
<h4 id="zustand">Zustand</h4>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</strong>:
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π boilerplate
- TypeScript –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- –•–æ—Ä–æ—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>
<pre><code class="language-javascript">import { create } from 'zustand';
import { devtools, persist } from 'zustand/middleware';

const useUserStore = create(
  devtools(
    persist(
      (set, get) =&gt; ({
        profile: null,
        loading: false,
        error: null,

        setLoading: (loading) =&gt; set({ loading }),

        setUser: (profile) =&gt; set({
          profile,
          loading: false,
          error: null,
        }),

        setError: (error) =&gt; set({
          error,
          loading: false,
        }),

        fetchUser: async (userId) =&gt; {
          set({ loading: true });
          try {
            const user = await api.getUser(userId);
            get().setUser(user);
          } catch (error) {
            get().setError(error.message);
          }
        },

        reset: () =&gt; set({
          profile: null,
          loading: false,
          error: null,
        }),
      }),
      {
        name: 'user-storage',
        partialize: (state) =&gt; ({ profile: state.profile }),
      }
    )
  )
);
</code></pre>
<h3 id="_5">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</h3>
<h4 id="flux-architecture">Flux Architecture</h4>
<pre><code class="language-javascript">// –û–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
// Action -&gt; Dispatcher -&gt; Store -&gt; View -&gt; Action

// Actions
const UserActions = {
  FETCH_USER_REQUEST: 'FETCH_USER_REQUEST',
  FETCH_USER_SUCCESS: 'FETCH_USER_SUCCESS',
  FETCH_USER_FAILURE: 'FETCH_USER_FAILURE',
};

// Action Creators
const fetchUser = (userId) =&gt; async (dispatch) =&gt; {
  dispatch({ type: UserActions.FETCH_USER_REQUEST });

  try {
    const user = await api.getUser(userId);
    dispatch({
      type: UserActions.FETCH_USER_SUCCESS,
      payload: user,
    });
  } catch (error) {
    dispatch({
      type: UserActions.FETCH_USER_FAILURE,
      payload: error.message,
    });
  }
};
</code></pre>
<h4 id="cqrs-command-query-responsibility-segregation">CQRS (Command Query Responsibility Segregation)</h4>
<pre><code class="language-javascript">// –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –∏ –∑–∞–ø—Ä–æ—Å–æ–≤
class UserCommands {
  constructor(store) {
    this.store = store;
  }

  async updateProfile(userId, data) {
    this.store.dispatch({ type: 'UPDATE_PROFILE_START' });

    try {
      await api.updateUser(userId, data);
      this.store.dispatch({
        type: 'UPDATE_PROFILE_SUCCESS',
        payload: { userId, data },
      });
    } catch (error) {
      this.store.dispatch({
        type: 'UPDATE_PROFILE_ERROR',
        payload: error.message,
      });
    }
  }
}

class UserQueries {
  constructor(store) {
    this.store = store;
  }

  getUser(userId) {
    return this.store.getState().users.entities[userId];
  }

  getUsersList() {
    return Object.values(this.store.getState().users.entities);
  }

  isUserLoading(userId) {
    return this.store.getState().users.loading[userId] || false;
  }
}
</code></pre>
<h3 id="_6">–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</h3>
<pre><code class="language-javascript">// –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
const normalizedState = {
  users: {
    byId: {
      '1': { id: '1', name: 'John', posts: ['1', '2'] },
      '2': { id: '2', name: 'Jane', posts: ['3'] },
    },
    allIds: ['1', '2'],
  },
  posts: {
    byId: {
      '1': { id: '1', title: 'Post 1', authorId: '1' },
      '2': { id: '2', title: 'Post 2', authorId: '1' },
      '3': { id: '3', title: 'Post 3', authorId: '2' },
    },
    allIds: ['1', '2', '3'],
  },
};

// –°–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
const selectUserWithPosts = createSelector(
  [selectUserById, selectAllPosts],
  (user, posts) =&gt; ({
    ...user,
    posts: user.posts.map(postId =&gt; posts[postId]),
  })
);
</code></pre>
<h3 id="_7">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h3>
<h4 id="_8">–ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤</h4>
<pre><code class="language-javascript">import { createSelector } from '@reduxjs/toolkit';

// –ë–∞–∑–æ–≤—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
const selectUsers = (state) =&gt; state.users.byId;
const selectUserIds = (state) =&gt; state.users.allIds;
const selectFilter = (state) =&gt; state.ui.userFilter;

// –ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
const selectFilteredUsers = createSelector(
  [selectUsers, selectUserIds, selectFilter],
  (users, userIds, filter) =&gt; {
    if (!filter) return userIds.map(id =&gt; users[id]);

    return userIds
      .map(id =&gt; users[id])
      .filter(user =&gt; 
        user.name.toLowerCase().includes(filter.toLowerCase())
      );
  }
);
</code></pre>
<h4 id="subscription">Subscription –ø–∞—Ç—Ç–µ—Ä–Ω</h4>
<pre><code class="language-javascript">// –ü–∞—Ç—Ç–µ—Ä–Ω –ø–æ–¥–ø–∏—Å–∫–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ Context API
function createSubscription() {
  const listeners = new Set();

  return {
    subscribe: (callback) =&gt; {
      listeners.add(callback);
      return () =&gt; listeners.delete(callback);
    },

    notify: (data) =&gt; {
      listeners.forEach(callback =&gt; callback(data));
    },
  };
}

// –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å –ø–æ–¥–ø–∏—Å–∫–æ–π
const StateContext = createContext();

function StateProvider({ children }) {
  const [state, setState] = useState(initialState);
  const subscription = useMemo(() =&gt; createSubscription(), []);

  const updateState = useCallback((newState) =&gt; {
    setState(newState);
    subscription.notify(newState);
  }, [subscription]);

  return (
    &lt;StateContext.Provider value={{ state, updateState, subscription }}&gt;
      {children}
    &lt;/StateContext.Provider&gt;
  );
}
</code></pre>
<h3 id="middleware">Middleware –∏ –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã</h3>
<h4 id="redux-saga">Redux Saga</h4>
<pre><code class="language-javascript">import { call, put, takeEvery, takeLatest } from 'redux-saga/effects';

function* fetchUserSaga(action) {
  try {
    yield put({ type: 'FETCH_USER_REQUEST' });
    const user = yield call(api.getUser, action.payload.userId);
    yield put({ type: 'FETCH_USER_SUCCESS', payload: user });
  } catch (error) {
    yield put({ type: 'FETCH_USER_FAILURE', payload: error.message });
  }
}

function* watchFetchUser() {
  yield takeLatest('FETCH_USER', fetchUserSaga);
}

function* rootSaga() {
  yield all([
    watchFetchUser(),
    // –¥—Ä—É–≥–∏–µ watchers...
  ]);
}
</code></pre>
<h4 id="custom-middleware">Custom Middleware</h4>
<pre><code class="language-javascript">const apiMiddleware = (store) =&gt; (next) =&gt; (action) =&gt; {
  if (action.type?.endsWith('_REQUEST')) {
    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ API –∑–∞–ø—Ä–æ—Å–æ–≤
    console.log('API Request:', action);
  }

  return next(action);
};

const errorMiddleware = (store) =&gt; (next) =&gt; (action) =&gt; {
  const result = next(action);

  if (action.error) {
    // –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
    console.error('Error occurred:', action.payload);
    // –ü–æ–∫–∞–∑–∞—Ç—å toast notification
  }

  return result;
};
</code></pre>
<h2 id="_9">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É</h2>
<h3 id="_10">–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞ —Ä–µ—à–µ–Ω–∏—è</h3>
<ol>
<li><strong>–†–∞–∑–º–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</strong>:</li>
<li>–ú–∞–ª—ã–µ: useState + Context API</li>
<li>–°—Ä–µ–¥–Ω–∏–µ: Zustand –∏–ª–∏ Context API + useReducer</li>
<li>
<p>–ë–æ–ª—å—à–∏–µ: Redux Toolkit</p>
</li>
<li>
<p><strong>–ö–æ–º–∞–Ω–¥–∞</strong>:</p>
</li>
<li>–î–∂—É–Ω–∏–æ—Ä—ã: Context API</li>
<li>–ú–∏–∫—Å–æ–≤–∞–Ω–Ω–∞—è: Zustand</li>
<li>
<p>–û–ø—ã—Ç–Ω–∞—è: Redux</p>
</li>
<li>
<p><strong>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</strong>:</p>
</li>
<li>DevTools: Redux</li>
<li>–ü—Ä–æ—Å—Ç–æ—Ç–∞: Zustand</li>
<li>TypeScript: Zustand –∏–ª–∏ Redux Toolkit</li>
<li>SSR: –ª—é–±–æ–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–µ–π</li>
</ol>
<h3 id="best-practices">Best Practices</h3>
<ol>
<li><strong>–î–µ—Ä–∂–∏—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã–º</strong>: –ü–æ–¥–Ω–∏–º–∞–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ</li>
<li><strong>–ù–æ—Ä–º–∞–ª–∏–∑—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ</strong>: –ò–∑–±–µ–≥–∞–π—Ç–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã</strong>: –ú–µ–º–æ–∏–∑–∏—Ä—É–π—Ç–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è</li>
<li><strong>–†–∞–∑–¥–µ–ª—è–π—Ç–µ UI –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É</strong>: –°–æ—Å—Ç–æ—è–Ω–∏–µ UI –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –¥–∞–Ω–Ω—ã—Ö</li>
<li><strong>–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏–∫—É</strong>: –î–µ–ª–∞–π—Ç–µ reducers –∏ actions —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º–∏</li>
</ol>
<h2 id="_11">–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã</h2>
<ul>
<li><a href="../../performance/optimization/">Performance Optimization</a> - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</li>
<li><a href="../../react/context-api/">React Context API</a> - Context API –≤ –¥–µ—Ç–∞–ª—è—Ö</li>
<li><a href="../../testing/strategies/">Testing Strategies</a> - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
</ul>
<h2 id="_12">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è</h2>
<p><strong>Senior-level –æ–∂–∏–¥–∞–Ω–∏—è</strong>:
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ trade-offs —Ä–∞–∑–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
- –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ state management —Ä–µ—à–µ–Ω–∏—è–º–∏
- –ó–Ω–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –û–ø—ã—Ç —Å middleware –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏</p>
<p><strong>–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</strong>:
- –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redux vs Context API?
- –ö–∞–∫ —Ä–µ—à–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Context API?
- –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å state management –ª–æ–≥–∏–∫—É?
- –ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö?</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../resilient-frontend_small/" class="btn btn-neutral float-left" title="–£—Å—Ç–æ–π—á–∏–≤–∞—è Frontend –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (small)"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../state-management_small/" class="btn btn-neutral float-right" title="State Management Architecture - Senior Cheat Sheet (small)">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../resilient-frontend_small/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../state-management_small/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
